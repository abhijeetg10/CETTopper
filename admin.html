<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Panel - CET Topper</title>
    <link rel="stylesheet" href="admin.css">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>

<body>

    <!-- Sidebar -->
    <nav class="sidebar">
        <div class="brand">
            <i class="fas fa-graduation-cap"></i> CET Topper
        </div>
        <ul class="nav-links">
            <li class="nav-item active" data-target="dashboard">
                <i class="fas fa-home"></i> Dashboard
            </li>
            <li class="nav-item" data-target="create-test">
                <i class="fas fa-plus-circle"></i> Create Test
            </li>
            <li class="nav-item" data-target="manage-tests">
                <i class="fas fa-list"></i> Manage Tests
            </li>
            <li class="nav-item" data-target="view-students">
                <i class="fas fa-users"></i> Students
            </li>
            <li class="nav-item" data-target="view-results">
                <i class="fas fa-chart-bar"></i> Results
            </li>
        </ul>

        <div class="user-info">
            <div style="margin-bottom: 5px;">Logged in as:</div>
            <strong id="adminName">Admin</strong>
            <button id="logoutBtn"
                style="margin-top: 10px; width: 100%; padding: 8px; border: 1px solid #cbd5e1; background: transparent; border-radius: 6px; cursor: pointer; color: #ef4444;">
                <i class="fas fa-sign-out-alt"></i> Logout
            </button>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="main-content">

        <!-- Section: Dashboard Overview -->
        <section id="dashboard" class="section active">
            <h1>Dashboard Overview</h1>

            <!-- Quick Stats -->
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-icon" style="background:#e0e7ff; color:#4f46e5;"><i class="fas fa-users"></i></div>
                    <div>
                        <h3>Total Students</h3>
                        <p id="stat-students">Loading...</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon" style="background:#d1fae5; color:#059669;"><i class="fas fa-file-alt"></i>
                    </div>
                    <div>
                        <h3>Active Tests</h3>
                        <p id="stat-tests">Loading...</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon" style="background:#fee2e2; color:#dc2626;"><i
                            class="fas fa-check-circle"></i></div>
                    <div>
                        <h3>Total Attempts</h3>
                        <p id="stat-attempts">Loading...</p>
                    </div>
                </div>
            </div>

            <h2 style="margin-top: 2.5rem; margin-bottom: 1.5rem; font-size: 1.2rem; color: #475569;">System Settings
            </h2>
            <div class="stats-grid" style="grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));">
                <div class="stat-card" style="border: 1px solid #e2e8f0;">
                    <div style="flex:1;">
                        <h3 style="color:#475569; margin-bottom:10px;">Exam Date Configuration</h3>
                        <div style="display:flex; gap:10px;">
                            <input type="date" id="examDateInput"
                                style="padding:8px; border:1px solid #cbd5e1; border-radius:6px;">
                            <button onclick="saveExamDate()"
                                style="padding:8px 16px; background:#4f46e5; color:white; border:none; border-radius:6px; cursor:pointer;">Save</button>
                        </div>
                        <p id="examDateMsg" style="font-size:0.85rem; margin-top:5px; color:#10b981; min-height:1.2em;">
                        </p>
                    </div>
                </div>
            </div>

            <h2 style="margin-top: 2.5rem; margin-bottom: 1.5rem; font-size: 1.2rem; color: #475569;">Quick Actions</h2>
            <div class="stats-grid" style="grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));">
                <div class="stat-card" style="cursor: pointer; border: 1px solid #e2e8f0;"
                    onclick="document.querySelector('[data-target=\'create-test\']').click()">
                    <div class="stat-icon" style="background:#ffedd5; color:#ea580c;"><i class="fas fa-plus"></i></div>
                    <div style="flex:1;">
                        <h3 style="color:#ea580c; margin-bottom:0;">Create New Test</h3>
                    </div>
                    <i class="fas fa-chevron-right" style="color:#cbd5e1;"></i>
                </div>
                <div class="stat-card" style="cursor: pointer; border: 1px solid #e2e8f0;"
                    onclick="document.querySelector('[data-target=\'view-students\']').click()">
                    <div class="stat-icon" style="background:#f0f9ff; color:#0284c7;"><i
                            class="fas fa-user-graduate"></i></div>
                    <div style="flex:1;">
                        <h3 style="color:#0284c7; margin-bottom:0;">View Students</h3>
                    </div>
                    <i class="fas fa-chevron-right" style="color:#cbd5e1;"></i>
                </div>
                <div class="stat-card" style="cursor: pointer; border: 1px solid #e2e8f0;"
                    onclick="document.querySelector('[data-target=\'view-results\']').click()">
                    <div class="stat-icon" style="background:#fae8ff; color:#a21caf;"><i class="fas fa-chart-line"></i>
                    </div>
                    <div style="flex:1;">
                        <h3 style="color:#a21caf; margin-bottom:0;">Analyze Results</h3>
                    </div>
                    <i class="fas fa-chevron-right" style="color:#cbd5e1;"></i>
                </div>
            </div>

        </section>

        <!-- Section: Create Test -->
        <section id="create-test" class="section">
            <h1>Create New Test</h1>
            <div class="card">
                <form id="createTestForm">
                    <div class="form-group">
                        <label>Test Title</label>
                        <input type="text" id="testTitle" placeholder="e.g. Physics Chapter 3 - Thermodynamics"
                            required>
                    </div>

                    <div class="form-grid">
                        <div class="form-group">
                            <label>Category</label>
                            <select id="testCategory">
                                <option value="Full Length">Full Length Mock</option>
                                <option value="Unit Test">Unit Test</option>
                                <option value="Chapter">Chapter-wise</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Subject</label>
                            <select id="testSubject">
                                <option value="Physics">Physics</option>
                                <option value="Chemistry">Chemistry</option>
                                <option value="Maths">Maths</option>
                                <option value="Biology">Biology</option>
                                <option value="PCM">PCM (Combined)</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-grid">
                        <div class="form-group">
                            <label>Total Marks</label>
                            <input type="number" id="totalMarks" value="20" required>
                        </div>
                        <div class="form-group">
                            <label>Duration (Minutes)</label>
                            <input type="number" id="duration" value="30" required>
                        </div>
                    </div>

                    <hr style="border: 0; border-top: 1px solid #e2e8f0; margin: 2rem 0;">

                    <h3><i class="fas fa-tasks"></i> Questions</h3>
                    <div id="questions-container" style="margin-top: 1rem;">
                        <!-- Questions will be added here -->
                    </div>

                    <button type="button" class="btn btn-outline" onclick="addQuestionField()"
                        style="width: 100%; border-style: dashed; margin-bottom: 2rem;">
                        <i class="fas fa-plus"></i> Add Question
                    </button>

                    <button type="submit" class="btn btn-primary"
                        style="width: 100%; padding: 12px; font-size: 1.1rem;">
                        Publish Test
                    </button>
                </form>
            </div>
        </section>

        <!-- Section: Manage Tests -->
        <section id="manage-tests" class="section">
            <h1>Manage Tests</h1>
            <div class="card">
                <div class="table-container">
                    <table>
                        <thead>
                            <tr>
                                <th style="width: 50px;">#</th>
                                <th>Test Name</th>
                                <th>Category</th>
                                <th>Details</th>
                                <th style="width: 100px;">Actions</th>
                            </tr>
                        </thead>
                        <tbody id="testsTableBody">
                            <!-- JS will populate -->
                        </tbody>
                    </table>
                </div>
            </div>
        </section>

        <!-- Section: View Students -->
        <section id="view-students" class="section">
            <h1>Student List</h1>
            <div class="card">
                <div class="table-container">
                    <table>
                        <thead>
                            <tr>
                                <th>Name</th>
                                <th>Email</th>
                                <th>Joined</th>
                                <th>Last Login</th>
                            </tr>
                        </thead>
                        <tbody id="studentsTableBody"></tbody>
                    </table>
                </div>
            </div>
        </section>

        <!-- Section: View Results -->
        <section id="view-results" class="section">
            <h1>Recent Results</h1>
            <div class="card">
                <div class="table-container">
                    <table>
                        <thead>
                            <tr>
                                <th>Test</th>
                                <th>Student</th>
                                <th>Score</th>
                                <th>Date</th>
                            </tr>
                        </thead>
                        <tbody id="resultsTableBody"></tbody>
                    </table>
                </div>
            </div>
        </section>

    </main>

    <script src="admin.js"></script>
</body>

</html>